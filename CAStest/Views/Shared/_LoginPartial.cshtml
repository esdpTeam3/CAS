@using Microsoft.AspNetCore.Identity
@using CAStest.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager



@if (SignInManager.IsSignedIn(User))
{@*<div class='boxForUsername'>*@
<form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm" class="boxForUsername">
    @if (User.Identity.IsAuthenticated)
    {
        
        <div class='userName'><span style="color:#CA0039;">@UserManager.GetUserAsync(User).Result.Fullname</span></div>
        
    }
        
        <div class='iconsInBoxForUsername'>
            <a asp-action="Index" asp-controller="Notification" style="float:left"><img src='~/images/material/notification.png' class='icon'></a>
            <a asp-area="" asp-controller="Manage" asp-action="Index" title="Мой профиль" style="position:relative"><img src='~/images/material/account.png' alt="Настройки" class="userSettingsIcon icon"></a>
            <button type="submit" class="btn-link button-icon" title="Выйти"><img src='~/images/material/exit.png' alt="Выйти" class="userLogoutIcon icon"></button>
        </div>

</form>
@*</div>*@

@*<div class='boxForUsername'>
        <div class='userName'><span>@userManager.GetUserAsync(User).Result.Fullname</span></div>
        <div class='iconsInBoxForUsername'>

        </div>
    </div>*@
@*<form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm">
        <ul class="nav navbar-nav navbar-right">


            <li>
                <a asp-area="" asp-controller="Manage" asp-action="Index" title="Мой профиль"><img src='~/images/material/account.png' alt="Настройки" class="userSettingsIcon icon"></a>
            </li>
            <li>
                <a href="Login.html" title="Выйти"><img src='~/images/material/exit.png' alt="Выйти" class="userLogoutIcon icon"></a>
            </li>
        </ul>
    </form>*@
}
@if (User.IsInRole("Admin"))
{
    <a asp-area="" asp-controller="Account" asp-action="Register">Регистрация</a>
}
